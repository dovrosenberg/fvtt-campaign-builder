{{! 
   Requires "currentWorld" - uuid of the world folder
}}

{{! The overall directory sidebar }}
<section id="fwb-directory" class="{{data.cssClass}} tab flexcol journal-directory" data-tab="journal">
  <!-- Directory Header -->
  <header class="directory-header">
    <div class="header-actions action-buttons flexrow">
      <button id="fwb-temp" class="create-document create-entry"><i class="{{data.sidebarIcon}}"></i>Temp</button>
    </div>
    <div class="header-search flexrow">
      <a class="header-control toggle-search-mode" data-tooltip="{{localize searchTooltip}}"><i class="fas {{data.searchIcon}}"></i></a>
      <input type="search" name="search" value="" placeholder="{{localize 'SIDEBAR.Search' types=labelPlural}}" autocomplete="off" />
      <a class="header-control toggle-sort" data-tooltip="{{localize sortTooltip}}"><i class="fa-solid {{data.sortIcon}}"></i></a>
      <a class="header-control collapse-all" data-tooltip="{{localize 'FOLDER.Collapse'}}"><i class="fa-duotone fa-folder-tree"></i></a>
    </div>
  </header>

  {{! these are the worlds }}
  <ol class="fwb-world-list">
    {{#each data.worlds}}
      <li class="fwb-world-folder folder flexcol {{#unless (eq ../currentWorld id)}}collapsed{{/unless}}"
        data-world-id={{id}}>
        <header class="folder-header flexrow">
          <h3 class="noborder"><i class="fas fa-folder-open fa-fw"></i>{{name}}</h3>
        </header>

        {{! These are the topic compendia }}
        <ol class="world-contents">
          {{#each compendia}}
            <li class="fwb-topic-folder folder entry flexcol" data-compendium-id="{{id}}">
              <header class="folder-header flexrow">
                <h4 class="noborder" style="margin-bottom:0px">
                  <i class="fas fa-folder-open fa-fw" style="margin-right: 4px;"></i>{{name}}
                </h4>
                <a class="create-button create-entry">
                  <i class="fas fa-atlas"></i>
                  <i class="fas fa-plus"></i>
                </a>
              </header>

              <ol class="topic-contents">
                {{! These are the journal entries}}
                {{#each entries}}
                  <li class="fwb-entry-item flexrow" data-entry-id="{{uuid}}">
                      <h4 class="entry-name"><a>{{name}}</a></h4>
                  </li>
                {{/each}}
              </ol>
            </li>
          {{/each}}
        </ol>
      </li>
    {{/each~}}
  </ol>

{{!--
  <!-- Directory Footer -->
  <footer class="directory-footer action-buttons {{#if data.unavailable}}warning{{/if}}">
    {{~#if data.unavailable}}
      <i class="fa-solid fa-triangle-exclamation"></i>
      <a class="show-issues">{{localize "SUPPORT.UnavailableDocuments" count=data.unavailable document=data.label}}</a>
    {{/if~}}
  </footer>
  --}}
</section>